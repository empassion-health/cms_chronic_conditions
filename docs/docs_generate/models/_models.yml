version: 2

models:
  - name: condition
    config:
      database: tuva
      schema: chronic_conditions_input
    description: > 
      The chronic_conditions package uses the condition output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom condition model is used, this model represents the minimum required data elements needed for chronic_conditions to function.
    columns:
      - name: encounter_id
        description: The unique identifier for the encounter
      - name: code
        description: An ICD-10-CM diagnosis code associated with this encounter_id
      - name: code_type
        description: The type of condition code.  chronic_conditions will only function with ICD-10-CM codes.


  - name: encounter
    config:
      database: tuva
      schema: chronic_conditions_input
    description: > 
      The chronic_conditions package uses the encounter output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom encounter model is used, this model represents the minimum required data elements needed for chronic_conditions to function.
    columns:
      - name: encounter_id
        description: Unique ID for each visit.
      - name: patient_id
        description: Unique ID for each patient.
      - name: encounter_start_date
        description: YYYY-MM-DD date format (inpatient admit date).
      - name: ms_drg_code
        description: The MS-DRG associated with the acute inpatient encounter.
      - name: data_source
        description: The entity or source of the data.

  - name: prescription
    config:
      database: tuva
      schema: chronic_conditions_input
    description: > 
      The chronic_conditions package uses the prescription output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom prescription model is used, this model represents the minimum required data elements needed for chronic_conditions to function.
    columns:
      - name: encounter_id
        description: Unique ID for each visit.
      - name: patient_id
        description: Unique ID for each patient.
      - name: paid_date
        description: YYYY-MM-DD date format.
      - name: ndc_code
        description: The ndc code for the prescription.
      - name: data_source
        description: The entity or source of the data.

  - name: procedure
    config:
      database: tuva
      schema: chronic_conditions_input
    description: > 
      The chronic_conditions package uses the procedure output from claims_preprocessing as an input.  
      If claims preprocessing is bypassed and a custom procedure model is used, this model represents the minimum required data elements needed for chronic_conditions to function.
    columns:
      - name: encounter_id
        description: Unique ID for each visit.
      - name: code
        description: Procedure code for a procedure performed during inpatient encounter.
      - name: code_type
        description: Indicates the type of procedure (cpt, icd-10-pcs)